<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libfprint: Print discovery</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>Print discovery</h1>The <a class="el" href="group__print__data.html">stored print</a> documentation detailed a simple API for storing per-device prints for a single user, namely <a class="el" href="group__print__data.html#g98b1ba5a31560e8e9831cbe914268cc0" title="Saves a stored print to disk, assigned to a specific finger.">fp_print_data_save()</a>.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct fp_dscv_print **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#g9e637d14e657f4cee01d69487eba4f68">fp_discover_prints</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scans the users home directory and returns a list of prints that were previously saved using <a class="el" href="group__print__data.html#g98b1ba5a31560e8e9831cbe914268cc0" title="Saves a stored print to disk, assigned to a specific finger.">fp_print_data_save()</a>.  <a href="#g9e637d14e657f4cee01d69487eba4f68"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#g48f429113859b69f71a1c06483ed9266">fp_dscv_prints_free</a> (struct fp_dscv_print **prints)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees a list of discovered prints.  <a href="#g48f429113859b69f71a1c06483ed9266"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#g5a254f3503f660f38468a32c3c9a8e45">fp_dscv_print_get_driver_id</a> (struct fp_dscv_print *print)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the <a class="el" href="group__drv.html#driver_id">driver ID</a> for a discovered print.  <a href="#g5a254f3503f660f38468a32c3c9a8e45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#ge5598e7e31c829bd5b9800bf7b748cb7">fp_dscv_print_get_devtype</a> (struct fp_dscv_print *print)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the <a class="el" href="group__dev.html#devtype">devtype</a> for a discovered print.  <a href="#ge5598e7e31c829bd5b9800bf7b748cb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum <a class="el" href="group__print__data.html#g5c6d4e10ca53fd0b61eaa4716f3985d5">fp_finger</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#gbf0b6e730a8bd0cbcbe55d836d7afa5d">fp_dscv_print_get_finger</a> (struct fp_dscv_print *print)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the finger code for a discovered print.  <a href="#gbf0b6e730a8bd0cbcbe55d836d7afa5d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dscv__print.html#g0e502ba429790e93dbbe8a61419469ec">fp_dscv_print_delete</a> (struct fp_dscv_print *print)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a discovered print from disk.  <a href="#g0e502ba429790e93dbbe8a61419469ec"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="group__print__data.html">stored print</a> documentation detailed a simple API for storing per-device prints for a single user, namely <a class="el" href="group__print__data.html#g98b1ba5a31560e8e9831cbe914268cc0" title="Saves a stored print to disk, assigned to a specific finger.">fp_print_data_save()</a>. 
<p>
It also detailed a load function, <a class="el" href="group__print__data.html#g55244830b6ad7e4a04d184d95bc7e865" title="Loads a previously stored print from disk.">fp_print_data_load()</a>, but usage of this function is limited to scenarios where you know which device you would like to use, and you know which finger you are looking to verify.<p>
In other cases, it would be more useful to be able to enumerate all previously saved prints, potentially even before device discovery. These functions are designed to offer this functionality to you.<p>
Discovered prints are stored in a <code>dscv_print</code> structure, and you can use functions documented below to access some information about these prints. You can determine if a discovered print appears to be compatible with a device using functions such as <a class="el" href="group__dscv__dev.html#gfb427e5a0fa78f3aee41b63f0da093ac" title="Determines if a specific discovered print appears to be compatible with a discovered...">fp_dscv_dev_supports_dscv_print()</a> and <a class="el" href="group__dev.html#gfc4dbf5ef42f4506d4c1d717ed2a4cd5" title="Determines if a discovered print appears to be compatible with a certain device.">fp_dev_supports_dscv_print()</a>.<p>
When you are ready to use the print, you can load it into memory in the form of a stored print by using the <a class="el" href="group__print__data.html#gb7d990f770aa6139ac84a688ae202382" title="Attempts to load a stored print based on a discovered print record.">fp_print_data_from_dscv_print()</a> function.<p>
You may have noticed the use of the word "appears" in the above paragraphs. libfprint performs print discovery simply by examining the file and directory structure of libfprint's private data store. It does not examine the actual prints themselves. Just because a print has been discovered and appears to be compatible with a certain device does not necessarily mean that it is usable; when you come to load or use it, under unusual circumstances it may turn out that the print is corrupt or not for the device that it appeared to be. Also, it is possible that the print may have been deleted by the time you come to load it. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g9e637d14e657f4cee01d69487eba4f68"></a><!-- doxytag: member="data.c::fp_discover_prints" ref="g9e637d14e657f4cee01d69487eba4f68" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fp_dscv_print** fp_discover_prints           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Scans the users home directory and returns a list of prints that were previously saved using <a class="el" href="group__print__data.html#g98b1ba5a31560e8e9831cbe914268cc0" title="Saves a stored print to disk, assigned to a specific finger.">fp_print_data_save()</a>. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a NULL-terminated list of discovered prints, must be freed with <a class="el" href="group__dscv__print.html#g48f429113859b69f71a1c06483ed9266" title="Frees a list of discovered prints.">fp_dscv_prints_free()</a> after use. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g48f429113859b69f71a1c06483ed9266"></a><!-- doxytag: member="data.c::fp_dscv_prints_free" ref="g48f429113859b69f71a1c06483ed9266" args="(struct fp_dscv_print **prints)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fp_dscv_prints_free           </td>
          <td>(</td>
          <td class="paramtype">struct fp_dscv_print **&nbsp;</td>
          <td class="paramname"> <em>prints</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees a list of discovered prints. 
<p>
This function also frees the discovered prints themselves, so make sure you do not use any discovered prints after calling this function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prints</em>&nbsp;</td><td>the list of discovered prints. If NULL, function simply returns. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g5a254f3503f660f38468a32c3c9a8e45"></a><!-- doxytag: member="data.c::fp_dscv_print_get_driver_id" ref="g5a254f3503f660f38468a32c3c9a8e45" args="(struct fp_dscv_print *print)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t fp_dscv_print_get_driver_id           </td>
          <td>(</td>
          <td class="paramtype">struct fp_dscv_print *&nbsp;</td>
          <td class="paramname"> <em>print</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the <a class="el" href="group__drv.html#driver_id">driver ID</a> for a discovered print. 
<p>
The driver ID indicates which driver the print originally came from. The print is only usable with a device controlled by that driver. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>print</em>&nbsp;</td><td>the discovered print </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the driver ID of the driver compatible with the print </dd></dl>

</div>
</div><p>
<a class="anchor" name="ge5598e7e31c829bd5b9800bf7b748cb7"></a><!-- doxytag: member="data.c::fp_dscv_print_get_devtype" ref="ge5598e7e31c829bd5b9800bf7b748cb7" args="(struct fp_dscv_print *print)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t fp_dscv_print_get_devtype           </td>
          <td>(</td>
          <td class="paramtype">struct fp_dscv_print *&nbsp;</td>
          <td class="paramname"> <em>print</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the <a class="el" href="group__dev.html#devtype">devtype</a> for a discovered print. 
<p>
The devtype represents which type of device under the parent driver is compatible with the print. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>print</em>&nbsp;</td><td>the discovered print </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the devtype of the device range compatible with the print </dd></dl>

</div>
</div><p>
<a class="anchor" name="gbf0b6e730a8bd0cbcbe55d836d7afa5d"></a><!-- doxytag: member="data.c::fp_dscv_print_get_finger" ref="gbf0b6e730a8bd0cbcbe55d836d7afa5d" args="(struct fp_dscv_print *print)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__print__data.html#g5c6d4e10ca53fd0b61eaa4716f3985d5">fp_finger</a> fp_dscv_print_get_finger           </td>
          <td>(</td>
          <td class="paramtype">struct fp_dscv_print *&nbsp;</td>
          <td class="paramname"> <em>print</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the finger code for a discovered print. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>print</em>&nbsp;</td><td>discovered print </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a finger code from <a class="el" href="group__print__data.html#g5c6d4e10ca53fd0b61eaa4716f3985d5" title="Numeric codes used to refer to fingers (and thumbs) of a human.">fp_finger</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="g0e502ba429790e93dbbe8a61419469ec"></a><!-- doxytag: member="data.c::fp_dscv_print_delete" ref="g0e502ba429790e93dbbe8a61419469ec" args="(struct fp_dscv_print *print)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fp_dscv_print_delete           </td>
          <td>(</td>
          <td class="paramtype">struct fp_dscv_print *&nbsp;</td>
          <td class="paramname"> <em>print</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a discovered print from disk. 
<p>
After successful return of this function, functions such as <a class="el" href="group__dscv__print.html#gbf0b6e730a8bd0cbcbe55d836d7afa5d" title="Gets the finger code for a discovered print.">fp_dscv_print_get_finger()</a> will continue to operate as before, however calling <a class="el" href="group__print__data.html#gb7d990f770aa6139ac84a688ae202382" title="Attempts to load a stored print based on a discovered print record.">fp_print_data_from_dscv_print()</a> will fail for obvious reasons. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>print</em>&nbsp;</td><td>the discovered print to remove from disk </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, negative on error </dd></dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Jan 6 17:47:48 2008 for libfprint by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
